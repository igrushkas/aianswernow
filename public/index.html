<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="/vite.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Answering Service 24/7 | Human-Like Voice</title>
    <!-- Firebase SDK (compat version — non-module, loads synchronously) -->
    <script src="https://www.gstatic.com/firebasejs/11.3.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.3.0/firebase-firestore-compat.js"></script>
    <!-- Firebase DB wrapper — replaces Supabase client with Firestore SDK -->
    <script>
    (function() {
      // Initialize Firebase
      var app = firebase.initializeApp({
        apiKey: "AIzaSyAJ8hLasKT3rGTcvMF0999nWZ_wRsbzWt4",
        authDomain: "aianswernow-3c345.firebaseapp.com",
        projectId: "aianswernow-3c345",
        storageBucket: "aianswernow-3c345.firebasestorage.app",
        messagingSenderId: "441518559053",
        appId: "1:441518559053:web:1e2bc62517d77b9d53b104"
      });
      var db = firebase.firestore();

      // Supabase-compatible wrapper that writes to Firestore via SDK
      window.__firebaseDB = {
        from: function(table) {
          return {
            insert: function(rows) {
              return {
                select: function() {
                  var row = Array.isArray(rows) ? rows[0] : rows;
                  console.log('[Firebase] Writing to Firestore:', table, row);
                  return db.collection(table).add(Object.assign({}, row, {
                    created_at: firebase.firestore.FieldValue.serverTimestamp()
                  }))
                  .then(function(docRef) {
                    console.log('[Firebase] Saved to Firestore, doc ID:', docRef.id);
                    return { data: [Object.assign({ id: docRef.id }, row)], error: null };
                  })
                  .catch(function(e) {
                    console.error('[Firebase] Write failed:', e.message);
                    return { data: null, error: { message: e.message } };
                  });
                }
              };
            },
            select: function() {
              // Heartbeat / read calls — return empty success
              return Promise.resolve({ data: [], error: null });
            }
          };
        },
        functions: {
          invoke: function(name, opts) {
            console.log('[Firebase] Edge function call (no-op):', name);
            return Promise.resolve({ data: { success: true }, error: null });
          }
        }
      };

      console.log('[Firebase] Firestore SDK wrapper ready');
    })();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@vapi-ai/web@latest"></script>
    <!-- Original app bundle (modified: Supabase client replaced with window.__firebaseDB) -->
    <script type="module" crossorigin src="/assets/index-49919655.js"></script>
    <link rel="stylesheet" href="/assets/index-0a0d79a8.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">
</head>
<body>
    <div id="root"></div>
</body>
</html>
